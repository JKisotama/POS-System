<div class="ad-main-content">
  <h2 class="">Goods Information</h2>

  <div class="ad-main-search d-flex justify-content-between">
    <div class="ad-main-btn">
      <button
        type="button"
        (click)="openCreateGoods()"
        class="btn btn-orange-bg"
      >
        Create Good
      </button>
    </div>
    <form [formGroup]="form">
      <input
        type="text"
        class="form-control search-bar-admin"
        formControlName="filterText"
        aria-describedby="helpId"
        placeholder="Search"
      />
    </form>

    <div class="ad-main-btn">
      <form [formGroup]="form">
        <select
          class="form-select custom-select"
          formControlName="groupId"
          aria-describedby="helpId"
        >
          <option value="">Search Group</option>
          <option *ngFor="let group of groupList" [value]="group.groupId">
            {{ group.groupName }}
          </option>
        </select>
      </form>
    </div>
  </div>

  <div class="ad-main-data">
    <div class="table-responsive">
      <table
        mat-table
        [dataSource]="dataSource"
        multiTemplateDataRows
        class="mat-elevation-z8 parent-table"
      >
        <!-- <ng-container matColumnDef="expandArrow">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let group" (click)="toggleRow(group)">
            <mat-icon>{{
              group.expanded ? "keyboard_arrow_down" : "keyboard_arrow_right"
            }}</mat-icon>
          </td>
        </ng-container> -->

        <ng-container matColumnDef="action">
          <th
            mat-header-cell
            *matHeaderCellDef
            class="text-center align-middle"
          >
            Action
          </th>
          <td mat-cell *matCellDef="let goods">
            <button
              mat-stroked-button
              [matMenuTriggerFor]="actionsMenu"
              color="primary"
              class="detail-btn"
            >
              Actions
              <mat-icon>arrow_drop_down</mat-icon>
            </button>
            <mat-menu #actionsMenu="matMenu">
              <button mat-menu-item>
                <mat-icon> add</mat-icon>
                <span class="text-dark">Add Unit</span>
              </button>
              <button mat-menu-item>
                <mat-icon>add</mat-icon>
                <span class="text-dark">Add Property</span>
              </button>
              <button
                mat-menu-item
                (click)="openCreateSellPrice(goods.goodsId)"
              >
                <mat-icon>attach_money</mat-icon>
                <span class="text-dark">Add Sell Price</span>
              </button>
              <button mat-menu-item>
                <mat-icon>edit</mat-icon>
                <span class="text-dark">Edit</span>
              </button>
              <button mat-menu-item>
                <mat-icon>delete</mat-icon>
                <span class="text-dark">Delete</span>
              </button>
            </mat-menu>
          </td>
        </ng-container>

        <ng-container matColumnDef="groupId">
          <th mat-header-cell *matHeaderCellDef>Group Id</th>
          <td mat-cell *matCellDef="let group">{{ group.groupId }}</td>
        </ng-container>

        <ng-container matColumnDef="goodsId">
          <th mat-header-cell *matHeaderCellDef>Goods ID</th>
          <td mat-cell *matCellDef="let goods">
            {{ goods.goodsId }}
          </td>
        </ng-container>

        <ng-container matColumnDef="goodsName">
          <th mat-header-cell *matHeaderCellDef>Goods Name</th>
          <td mat-cell *matCellDef="let goods">
            {{ goods.goodsName }}
          </td>
        </ng-container>

        <ng-container matColumnDef="goodsBrand">
          <th mat-header-cell *matHeaderCellDef>Goods Brand</th>
          <td mat-cell *matCellDef="let goods">
            {{ goods.goodsBrand }}
          </td>
        </ng-container>

        <ng-container matColumnDef="picture">
          <th mat-header-cell *matHeaderCellDef>Picture</th>
          <td mat-cell *matCellDef="let goods">
            <img
              [src]="goods.picture"
              alt="Goods Picture"
              width="100"
              height="100"
            />
          </td>
        </ng-container>

        <ng-container matColumnDef="goodsStatus">
          <th mat-header-cell *matHeaderCellDef>Goods Status</th>
          <td mat-cell *matCellDef="let goods">
            {{
              goods.goodsStatus === 0 ? "Sell Available" : "Sell Unavailable"
            }}
          </td>
        </ng-container>

        <ng-container matColumnDef="storeId">
          <th mat-header-cell *matHeaderCellDef>Store Id</th>
          <td *matCellDef="let group">{{ group.storeId }}</td>
        </ng-container>

        <!-- <ng-container matColumnDef="expandedDetail">
          <td
            class="boder_table color_table_background"
            mat-cell
            *matCellDef="let group"
            [attr.colspan]="displayedColumns.length"
          >
            <div
              class="example-element-detail flex-container"
              [@detailExpand]="group.expanded ? 'expanded' : 'collapsed'"
            >
              <div class="card">
                <div class="card-header">
                  <div class="table-name">Good Information</div>
                </div>

                <div class="card-body">
                  <table
                    mat-table
                    [dataSource]="innerDataSource"
                    class="detail-table mat-elevation-z8"
                  >
                    <ng-container matColumnDef="goodsId">
                      <th mat-header-cell *matHeaderCellDef>Goods ID</th>
                      <td mat-cell *matCellDef="let goods">
                        {{ goods.goodsId }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="goodsName">
                      <th mat-header-cell *matHeaderCellDef>Goods Name</th>
                      <td mat-cell *matCellDef="let goods">
                        {{ goods.goodsName }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="goodsBrand">
                      <th mat-header-cell *matHeaderCellDef>Goods Brand</th>
                      <td mat-cell *matCellDef="let goods">
                        {{ goods.goodsBrand }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="picture">
                      <th mat-header-cell *matHeaderCellDef>Picture</th>
                      <td mat-cell *matCellDef="let goods">
                        <img
                          [src]="goods.picture"
                          alt="Goods Picture"
                          width="50"
                          height="50"
                        />
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="goodsStatus">
                      <th mat-header-cell *matHeaderCellDef>Goods Status</th>
                      <td mat-cell *matCellDef="let goods">
                        {{ goods.goodsStatus }}
                      </td>
                    </ng-container>

                    <tr
                      mat-header-row
                      *matHeaderRowDef="childDisplayedColumns"
                    ></tr>

                    <tr
                      mat-row
                      *matRowDef="let good; columns: childDisplayedColumns"
                      class="data-row"
                    ></tr>
                  </table>
                </div>
              </div>
            </div>
          </td>
        </ng-container> -->

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let group; columns: displayedColumns"></tr>
        <!-- <tr
          mat-row
          *matRowDef="let group; columns: ['expandedDetail']"
          class="example-detail-row"
        ></tr> -->
      </table>
    </div>
  </div>
</div>
