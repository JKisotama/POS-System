<div id="print-invoice">
  <div class="invoice-container">
    <div class="invoice-header">
      <h1 class="invoice-title">Invoice</h1>
      <div class="invoice-meta">
        <p><strong>Invoice Number:</strong> {{ posHeader?.posNumber }}</p>
        <p>
          <strong>Invoice Date:</strong>
          {{ posHeader?.posDate | date : "dd/MM/yyyy" }}
        </p>
      </div>
    </div>

    <div class="invoice-customer-info">
      <h2>Customer Information</h2>
      <p><strong>Name:</strong>{{ selectedCustomer?.customerName }}</p>
      <p><strong>Address:</strong>{{ selectedCustomer?.customerAddress }}</p>
      <p><strong>Email:</strong>{{ selectedCustomer?.customerEmail }}</p>
      <p><strong>Phone:</strong>{{ selectedCustomer?.customerPhone }}</p>
    </div>

    <div class="invoice-product-list">
      <h2>Product List</h2>
      <table
        mat-table
        [dataSource]="dataSource"
        class="mat-elevation-z8 parent-table"
      >
        <!-- Goods Name + Property Value Column -->
        <ng-container matColumnDef="goodsNameProperty">
          <th mat-header-cell *matHeaderCellDef>Goods Name</th>
          <td mat-cell *matCellDef="let element">
            {{ element.goodsName }} - {{ element.propertyValue }}
          </td>
        </ng-container>

        <!-- Quantity + Unit Column -->
        <ng-container matColumnDef="quantityUnit">
          <th mat-header-cell *matHeaderCellDef>Quantity</th>
          <td mat-cell *matCellDef="let element">
            {{ element.itemQuantity }} {{ element.itemUnit }}
          </td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="itemPrice">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let element">
            {{ element.itemPrice | number : "1.0-2" }}
          </td>
        </ng-container>

        <!-- Subtotal Column -->
        <ng-container matColumnDef="subTotal">
          <th mat-header-cell *matHeaderCellDef>Subtotal</th>
          <td mat-cell *matCellDef="let element">
            {{ element.subTotal | number : "1.0-2" }}
          </td>
        </ng-container>

        <!-- Line Discount Column -->
        <ng-container matColumnDef="lineDiscount">
          <th mat-header-cell *matHeaderCellDef>Discount</th>
          <td mat-cell *matCellDef="let element">
            {{ element.lineDiscount | number : "1.0-2" }}
          </td>
        </ng-container>

        <!-- Total Column -->
        <ng-container matColumnDef="lineTotal">
          <th mat-header-cell *matHeaderCellDef>Total</th>
          <td mat-cell *matCellDef="let element">
            {{ element.lineTotal | number : "1.0-2" }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <div class="invoice-summary">
      <p>
        <strong>Total Amount:</strong> {{ subtotal | number : "1.0-2" }} VND
      </p>
      <p><strong>Discount:</strong> {{ discount | number : "1.0-2" }} VND</p>
      <p><strong>Amount to Pay:</strong> {{ total | number : "1.0-2" }} VND</p>
    </div>

    <div class="invoice-footer">
      <p>Thank you for your business!</p>
      <p>If you have any questions about this invoice, please contact us.</p>

      <button class="btn" (click)="printInvoice()">
        <i class="fa-solid fa-print"></i>
        Print
      </button>
    </div>
  </div>
</div>
